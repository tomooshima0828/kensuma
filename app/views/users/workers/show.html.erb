<% provide(:title, "作業員詳細") %>

<div class="card">
  <div class="card-body table-responsive p-0">
    <table class="table table-hover text-nowrap">
      <tbody>
        <tr>
          <th><%= Worker.human_attribute_name(:name) %></th>
          <td><%= @worker.name %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:name_kana) %></th>
          <td><%= @worker.name_kana %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:country) %></th>
          <td><%= @worker.country %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:my_address) %></th>
          <td><%= @worker.my_address %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:my_phone_number) %></th>
          <td><%= @worker.my_phone_number %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:family_address) %></th>
          <td><%= @worker.family_address %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:family_phone_number) %></th>
          <td><%= @worker.family_phone_number %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:birth_day_on) %></th>
          <td><%= @worker.birth_day_on %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:abo_blood_type) %></th>
          <td><%= @worker.abo_blood_type_i18n %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:rh_blood_type) %></th>
          <td><%= @worker.rh_blood_type_i18n %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:job_type) %></th>
          <td><%= @worker.job_type %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:hiring_on) %></th>
          <td><%= @worker.hiring_on %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:experience_term_before_hiring) %></th>
          <td><%= @worker.experience_term_before_hiring %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:blank_term) %></th>
          <td><%= @worker.blank_term %></td>
        </tr>
        <tr>
          <th><%= Worker.human_attribute_name(:carrier_up_id) %></th>
          <td><%= @worker.carrier_up_id %></td>
        </tr>
        <tr>
          <th><%= WorkerLicense.human_attribute_name(:license_id) %></th>
          <td>
            <% @worker.licenses.each do |license| %>
              <%= license.name %>
            <% end %>
          <td>
        </tr>
        <% @worker.worker_licenses.each do |worker_license| %>
          <tr>
            <th><%= WorkerLicense.human_attribute_name(:got_on) %></th>
            <td>
              <%= worker_license.got_on %>
            <td>
          </tr>
          <tr>
            <th><%= WorkerLicense.human_attribute_name(:images) %></th>
            <td>
            <% worker_license.images.each do |image| %>
              <%= image_tag(image.url) %>
            <% end %>
            <td>
          </tr>
        <% end %>
        <tr>
          <th><%= WorkerSkillTraining.human_attribute_name(:skill_training_id) %></th>
          <td>
            <% @worker.skill_trainings.each do |skill_training| %>
              <%= skill_training.name %>
            <% end %>
          <td>
        </tr>
        <% @worker.worker_skill_trainings.each do |worker_skill_training| %>
          <tr>
            <th><%= WorkerLicense.human_attribute_name(:got_on) %></th>
            <td>
              <%= worker_skill_training.got_on %>
            <td>
          </tr>
          <tr>
            <th><%= WorkerLicense.human_attribute_name(:images) %></th>
            <td>
            <% worker_skill_training.images.each do |image| %>
              <%= image_tag(image.url) %>
            <% end %>
            <td>
          </tr>
        <% end %>
        <tr>
          <th><%= WorkerSpecialEducation.human_attribute_name(:special_education_id) %></th>
          <td>
            <% @worker.special_educations.each do |special_education| %>
              <%= special_education.name %>
            <% end %>
          <td>
        </tr>
        <% @worker.worker_special_educations.each do |worker_special_education| %>
          <tr>
            <th><%= WorkerLicense.human_attribute_name(:got_on) %></th>
            <td>
              <%= worker_special_education.got_on %>
            <td>
          </tr>
          <tr>
            <th><%= WorkerLicense.human_attribute_name(:images) %></th>
            <td>
            <% worker_special_education.images.each do |image| %>
              <%= image_tag(image.url) %>
            <% end %>
            <td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="card-footer">
    <%= link_to "編集", edit_users_worker_path(@worker), class: "btn btn-md btn-block btn-success" %>
    <%= link_to "削除", users_worker_path(@worker), method: :delete, data: { confirm: "#{@worker.name}を削除します。本当によろしいですか？" }, class: "btn btn-md btn-danger btn-block" %>
    <%= link_to "一覧画面へ", users_workers_path, class: "btn btn-md btn-block btn-default" %>
  </div>
</div>
